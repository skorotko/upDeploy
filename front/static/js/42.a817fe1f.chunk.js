(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{292:function(e,t,a){"use strict";var n=a(279),r=a(30),l=a(31),o=a(34),c=a(32),s=a(33),i=a(1),u=a.n(i),m=a(395),g=a(396),p=a(397),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).setPage=function(e){var t=a.props,n=t.totalItems,r=t.totalPages,l=t.pageSize,o=a.state.pager;e<1||e>r||(o=a.getPager(n,e,l),a.setState({pager:o}),a.props.onChangePage(e))},a.getPager=function(e,t,a){t=t||1,a=a||10;var r,l,o=Math.ceil(e/a);o<=10?(r=1,l=o):t<=6?(r=1,l=10):t+4>=o?(r=o-9,l=o):(r=t-5,l=t+4);var c=(t-1)*a,s=Math.min(c+a-1,e-1),i=Object(n.a)(Array(l+1-r).keys()).map(function(e){return r+e});return{totalItems:e,currentPage:t,pageSize:a,totalPages:o,startPage:r,endPage:l,startIndex:c,endIndex:s,pages:i}},a.state={pager:{}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.items&&this.props.items.length&&this.setPage(this.props.initialPage)}},{key:"componentDidUpdate",value:function(e){this.props.initialPage===e.initialPage&&this.props.totalItems===e.totalItems||this.setPage(this.props.initialPage)}},{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:u.a.createElement(m.a,{className:"pagination justify-content-end"},u.a.createElement(g.a,{className:"page-item",disabled:1===t.currentPage},u.a.createElement(p.a,{className:"page-link",onClick:function(){return e.setPage(1)}},"First")),u.a.createElement(g.a,{className:"page-item",disabled:1===t.currentPage},u.a.createElement(p.a,{className:"page-link",onClick:function(){return e.setPage(t.currentPage-1)}},"Previous")),t.pages.map(function(a,n){return u.a.createElement(g.a,{key:n,className:"page-item",active:t.currentPage===a},u.a.createElement(p.a,{className:"page-link",onClick:function(){return e.setPage(a)}},a))}),u.a.createElement(g.a,{className:"page-item",disabled:t.currentPage===t.totalPages},u.a.createElement(p.a,{className:"page-link",onClick:function(){return e.setPage(t.currentPage+1)}},"Next")),u.a.createElement(g.a,{className:"page-item",disabled:t.currentPage===t.totalPages},u.a.createElement(p.a,{className:"page-link",onClick:function(){return e.setPage(t.totalPages)}},"Last")))}}]),t}(i.Component);f.defaultProps={items:[],initialPage:1,pageSize:10,totalItems:null,totalPages:null,onChangePage:function(){return null}},t.a=f},304:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(30),r=a(31),l=a(34),o=a(32),c=a(33),s=a(1),i=a.n(s),u=a(441),m=a(431),g=a(432),p=a(433),f=a(296),h=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={modal:a.props.isOpenModal},a.toggle=function(){a.setState(function(e){return{modal:!e.modal}}),(0,a.props.onRequestClose)()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.modal,t=this.props,a=t.title,n=t.name,r=t.className,l=t.onDelete;return i.a.createElement(u.a,{isOpen:e,toggle:this.toggle,className:'modal-danger " + '.concat(r||"")},i.a.createElement(m.a,{toggle:this.toggle},a),i.a.createElement(g.a,null,"Are you sure to delete ".concat(n,"?")),i.a.createElement(p.a,null,i.a.createElement(f.a,{color:"danger",onClick:l},"Delete")," ",i.a.createElement(f.a,{color:"secondary",onClick:this.toggle},"Cancel")))}}]),t}(s.Component)},343:function(e,t,a){"use strict";var n=a(30),r=a(31),l=a(34),o=a(32),c=a(33),s=a(1),i=a.n(s),u=a(441),m=a(431),g=a(432);t.a=function(e){return function(t){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={modal:!1},t.toggleModal=function(){t.setState(function(e){return{modal:!e.modal}}),(0,t.props.onRequestClose)()},t}return Object(c.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){var t=this.state.modal,a=this.props,n=a.title,r=a.className;return i.a.createElement(u.a,{isOpen:t,toggle:this.toggleModal,className:'modal-primary " + '.concat(r||"")},i.a.createElement(m.a,{toggle:this.toggleModal},n),i.a.createElement(g.a,null,t&&i.a.createElement(e,this.props)))}}],[{key:"getDerivedStateFromProps",value:function(e){return e?{modal:e.isOpenModal}:null}}]),a}(s.Component)}},819:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(279),l=a(30),o=a(31),c=a(34),s=a(32),i=a(33),u=a(1),m=a.n(u),g=a(442),p=a(443),f=a(296),h=a(325),d=a(304),P=a(71),E=function(e){var t=e.idx,a=e.id,n=e.name,r=e.onDelete;return m.a.createElement(m.a.Fragment,null,m.a.createElement("td",null,t+1),m.a.createElement("td",null,n),m.a.createElement("td",{style:{paddingLeft:"1.5rem"}},m.a.createElement(P.a,null,function(e){var t=e.showModal,l=e.hideModal;return m.a.createElement(f.a,{title:"delete",style:{margin:0,padding:"0.2rem",backgroundColor:"transparent",borderColor:"transparent"},onClick:function(){return t(d.a,{isOpenModal:!0,title:"Delete platform",name:"".concat(n),onDelete:function(){r(a),l()}})}},m.a.createElement("i",{className:"cui-trash icons font-lg"}))})))};E.defaultProps={name:"",onDelete:function(){return null}};var v=E,b=a(292),O=function(e){var t=e.platforms,a=e.totalItems,n=e.pageSize,r=e.totalPages,l=e.currentPage,o=e.onChangePage,c=e.onDelete,s=t.length>0?t.map(function(e,t){return m.a.createElement("tr",{key:e.id},m.a.createElement(v,Object.assign({idx:t},e,{onDelete:c})))}):m.a.createElement("tr",{style:{color:"var(--secondary)"}},m.a.createElement("td",{colSpan:9,align:"center"},"Nothing found"," ",m.a.createElement("span",{role:"img","aria-label":"confused face"},"\ud83d\ude15")));return m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,{style:{background:"var(--white)"},responsive:!0,hover:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"col"},"#"),m.a.createElement("th",{scope:"col"},"Platform"),m.a.createElement("th",{scope:"col"},"Action"))),m.a.createElement("tbody",null,s)),t.length>0?m.a.createElement(g.a,null,m.a.createElement(p.a,null,m.a.createElement(b.a,{items:t,totalItems:a,pageSize:n,totalPages:r,initialPage:l,onChangePage:o}))):null)};O.defaultProps={platforms:[],currentPage:null,pageSize:null,totalItems:null,totalPages:null,onChangePage:function(){return null},onDelete:function(){return null}};var y=O,C=a(108),j=a(347),k=a(385),S=a(285),D={name:""},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state=Object(n.a)({},D),a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,r=t.onCreatePlatform,l=t.onRequestClose;r(a.state),a.setState(Object(n.a)({},D)),l()},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.name;return m.a.createElement(j.a,{onSubmit:this.handleSubmit},m.a.createElement(k.a,{row:!0},m.a.createElement(p.a,null,m.a.createElement(S.a,{type:"text",name:"name",value:e,placeholder:"Platform name",onChange:this.handleInputChange}))),m.a.createElement(f.a,{color:"primary",onClick:this.handleSubmit},"Create"))}}]),t}(u.Component),w=a(343),M=a(288);a.d(t,"default",function(){return z});var I=Object(w.a)(N),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={platforms:[],totalPlatforms:null,totalPages:null,perPage:null,currentPage:1},a.createPlatform=function(e){Object(M.b)(e).then(function(e){e?a.setState({platforms:[e].concat(Object(r.a)(a.state.platforms))}):console.log("Error while adding platform")})},a.removePlatform=function(e){Object(M.d)(e).then(function(t){"Delete Successfully"===t.message?a.setState(function(t){return{platforms:t.platforms.filter(function(t){return t.id!==e})}}):console.log("Error while deleting platform")})},a.onChangePage=function(e){a.getData(e)},a.getData=function(e){Object(M.k)(e).then(function(e){var t={platforms:e.platforms,totalPlatforms:e.Count,totalPages:e.Page,perPage:e.perPage,currentPage:e.currentPage};a.setState(Object(n.a)({},a.state,t))})},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentPage;this.getData(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.platforms,n=t.totalPlatforms,r=t.perPage,l=t.totalPages,o=t.currentPage;return m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,{style:{marginBottom:"1rem"}},m.a.createElement(p.a,null,m.a.createElement("h1",{style:{marginBottom:0,fontSize:24}},"Platforms"))),m.a.createElement(g.a,{style:{marginBottom:"1rem"}},m.a.createElement(p.a,null,m.a.createElement(P.a,null,function(t){var a=t.showModal;return m.a.createElement(f.a,{color:"success",onClick:function(){return a(I,{isOpenModal:!0,title:"Create new platform",onCreatePlatform:e.createPlatform})}},m.a.createElement("i",{style:{marginRight:"0.2rem"},className:"fa fa-plus-circle"}),"Create")}))),m.a.createElement(g.a,null,m.a.createElement(p.a,null,m.a.createElement(y,{platforms:a,totalItems:n,pageSize:r,totalPages:l,currentPage:o,onChangePage:this.onChangePage,onDelete:this.removePlatform}))))}}]),t}(u.Component)}}]);
//# sourceMappingURL=42.a817fe1f.chunk.js.map